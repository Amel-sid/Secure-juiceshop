name: "My PipeLiNe TEST"
on: 
  push:
    branches: [main]

jobs:
  my-test-job:
    runs-on: ubuntu-latest
    steps:
      - name: "Récupérer mon code"
        uses: actions/checkout@v4

      - name: "Vérifier que mes dossiers existent"
        run: |
          echo "🔍 Vérification de la structure..."
          ls -la
          echo "📁 Cherchons juice-shop-secure..."
          ls juice-shop-secure/ || echo "❌ Pas trouvé !"

      - name: "Installer Terraform"
        uses: hashicorp/setup-terraform@v3
        with:
          terraform_version: 1.5.0

      - name: "Tester Terraform"
        run: |
          echo "🔧 Version de Terraform installée:"
          terraform version
          echo "📁 Aller dans le dossier terraform:"
          cd juice-shop-secure/terraform/
          ls -la
